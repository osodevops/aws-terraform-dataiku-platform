<source>
  @type tail
  path /data/dataiku/run/backend.log
  pos_file /var/fluentd/backend.pos
  tag dataiku.backend
  path_key filename
  <parse>
    @type none
  </parse>
</source>

<source>
  @type tail
  path /data/dataiku/run/ipython.log
  pos_file /var/fluentd/ipython.pos
  tag dataiku.ipython
  path_key filename
  <parse>
    @type none
  </parse>
</source>

<source>
  @type tail
  path /data/dataiku/run/supervisord.log
  pos_file /var/fluentd/supervisord.pos
  tag dataiku.supervisord
  path_key filename
  <parse>
    @type none
  </parse>
</source>

<source>
  @type tail
  path /data/dataiku/run/nginx.log
  pos_file /var/fluentd/nginx.pos
  tag dataiku.nginx
  path_key filename
  <parse>
    @type none
  </parse>
</source>

<source>
  @type tail
  path /data/dataiku/run/nginx/access.log
  pos_file /var/fluentd/access.pos
  tag dataiku.access
  path_key filename
  <parse>
    @type none
  </parse>
</source>

<filter dataiku.*>
  @type record_transformer
  <record>
    hostname "#{Socket.gethostname}"
  </record>
</filter>
